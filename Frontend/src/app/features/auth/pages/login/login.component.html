<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
  <div class="w-full max-w-6xl">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

      <!-- Login Form Card -->
      <div class="lg:col-span-1">
        <mat-card class="shadow-xl">
          <mat-card-header class="text-center pb-4">
            <div class="w-full flex flex-col items-center">
              <div class="h-16 w-16 bg-indigo-600 rounded-full flex items-center justify-center mb-4">
                <mat-icon class="text-white text-4xl">account_balance</mat-icon>
              </div>
              <mat-card-title class="text-2xl font-bold text-gray-800">
                E-Procurement System
              </mat-card-title>
              <p class="text-sm text-gray-500 mt-2">Town Council of Singapore</p>
            </div>
          </mat-card-header>

          <mat-card-content>
            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-4">
              <!-- Username Field -->
              <mat-form-field class="w-full" appearance="outline">
                <mat-label>Username</mat-label>
                <input matInput
                       formControlName="username"
                       placeholder="Enter your username"
                       autocomplete="username">
                <mat-icon matPrefix>person</mat-icon>
                <mat-error *ngIf="loginForm.get('username')?.hasError('required')">
                  Username is required
                </mat-error>
              </mat-form-field>

              <!-- Password Field -->
              <mat-form-field class="w-full" appearance="outline">
                <mat-label>Password</mat-label>
                <input matInput
                       [type]="hidePassword ? 'password' : 'text'"
                       formControlName="password"
                       placeholder="Enter your password"
                       autocomplete="current-password">
                <mat-icon matPrefix>lock</mat-icon>
                <button mat-icon-button
                        matSuffix
                        type="button"
                        (click)="hidePassword = !hidePassword"
                        [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hidePassword">
                  <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="loginForm.get('password')?.hasError('required')">
                  Password is required
                </mat-error>
              </mat-form-field>

              <!-- Error Message -->
              <div *ngIf="errorMessage" class="text-red-600 text-sm text-center bg-red-50 p-3 rounded">
                {{ errorMessage }}
              </div>

              <!-- Remember Me -->
              <div class="flex items-center">
                <mat-checkbox formControlName="rememberMe" color="primary">
                  Remember me
                </mat-checkbox>
              </div>

              <!-- Login Button -->
              <button mat-raised-button
                      color="primary"
                      type="submit"
                      class="w-full h-12 text-lg"
                      [disabled]="!loginForm.valid">
                <mat-icon class="mr-2">login</mat-icon>
                LOGIN
              </button>
            </form>

            <div class="mt-4 text-center">
              <a href="#" class="text-sm text-blue-600 hover:underline">
                Forgot Password?
              </a>
            </div>

            <mat-divider class="my-6"></mat-divider>

            <div class="text-center">
              <p class="text-sm text-gray-600 mb-2">Supplier?</p>
              <a href="#" class="text-blue-600 hover:underline font-medium">
                Register here
              </a>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Demo Accounts Panel -->
      <div class="lg:col-span-2">
        <mat-card class="shadow-xl">
          <mat-card-header>
            <div class="flex items-center justify-between w-full">
              <div class="flex items-center gap-2">
                <mat-icon class="text-amber-500">science</mat-icon>
                <mat-card-title>Demo Accounts - Quick Login</mat-card-title>
              </div>
              <button mat-icon-button (click)="toggleDemoAccounts()">
                <mat-icon>{{ showDemoAccounts ? 'expand_less' : 'expand_more' }}</mat-icon>
              </button>
            </div>
          </mat-card-header>

          <mat-card-content *ngIf="showDemoAccounts">
            <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mb-4 rounded">
              <div class="flex items-start">
                <mat-icon class="text-amber-600 mr-2">info</mat-icon>
                <div>
                  <p class="font-medium text-amber-800">Testing Environment</p>
                  <p class="text-sm text-amber-700 mt-1">
                    Click any account below to auto-fill login credentials and explore different user workflows.
                    All accounts use password: <code class="bg-amber-100 px-2 py-1 rounded font-mono text-xs">password123</code>
                  </p>
                </div>
              </div>
            </div>

            <!-- Staff Accounts -->
            <div class="mb-8">
              <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2">
                <mat-icon class="text-blue-500">badge</mat-icon>
                Staff Accounts
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button *ngFor="let account of demoAccounts.slice(0, 3)"
                        mat-stroked-button
                        class="text-left p-5 hover:bg-blue-50 transition-colors border-2 min-h-[140px] flex items-start"
                        (click)="fillDemoAccount(account)">
                  <div class="flex items-start gap-3 w-full">
                    <mat-icon class="text-blue-500 flex-shrink-0">
                      {{ account.icon }}
                    </mat-icon>
                    <div class="flex-1 min-w-0 flex flex-col gap-1">
                      <div class="font-semibold text-gray-800 text-base">{{ account.name }}</div>
                      <div class="text-xs text-gray-500">{{ account.role }}</div>
                      <div class="text-xs text-gray-600 leading-relaxed">{{ account.description }}</div>
                      <div class="text-xs text-blue-600 font-mono mt-auto pt-1">{{ account.username }}</div>
                    </div>
                  </div>
                </button>
              </div>
            </div>

            <!-- Supplier Accounts -->
            <div class="mb-8">
              <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2">
                <mat-icon class="text-green-500">store</mat-icon>
                Supplier Accounts
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button *ngFor="let account of demoAccounts.slice(3, 6)"
                        mat-stroked-button
                        class="text-left p-5 hover:bg-green-50 transition-colors border-2 min-h-[140px] flex items-start"
                        (click)="fillDemoAccount(account)">
                  <div class="flex items-start gap-3 w-full">
                    <mat-icon class="text-green-500 flex-shrink-0">
                      {{ account.icon }}
                    </mat-icon>
                    <div class="flex-1 min-w-0 flex flex-col gap-1">
                      <div class="font-semibold text-gray-800 text-base">{{ account.name }}</div>
                      <div class="text-xs text-gray-500">{{ account.role }}</div>
                      <div class="text-xs text-gray-600 leading-relaxed">{{ account.description }}</div>
                      <div class="text-xs text-green-600 font-mono mt-auto pt-1">{{ account.username }}</div>
                    </div>
                  </div>
                </button>
              </div>
            </div>

            <!-- Admin Account -->
            <div class="p-4 bg-red-50 border border-red-200 rounded-lg mb-6">
              <h3 class="text-sm font-semibold text-red-800 mb-4 flex items-center gap-2">
                <mat-icon class="text-red-500 text-sm">shield</mat-icon>
                Administrator Access
              </h3>
              <div class="flex justify-start">
                <button *ngFor="let account of demoAccounts.slice(6)"
                        mat-stroked-button
                        color="warn"
                        class="text-left p-5 hover:bg-red-100 transition-colors border-2 min-h-[140px] flex items-start max-w-md"
                        (click)="fillDemoAccount(account)">
                  <div class="flex items-start gap-3 w-full">
                    <mat-icon class="text-red-500 flex-shrink-0">{{ account.icon }}</mat-icon>
                    <div class="flex-1 min-w-0 flex flex-col gap-1">
                      <div class="font-semibold text-gray-800 text-base">{{ account.name }}</div>
                      <div class="text-xs text-gray-500">{{ account.role }}</div>
                      <div class="text-xs text-gray-600 leading-relaxed">{{ account.description }}</div>
                      <div class="text-xs text-red-600 font-mono mt-auto pt-1">{{ account.username }}</div>
                    </div>
                  </div>
                </button>
              </div>
            </div>

            <!-- Workflow Suggestions -->
            <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
              <h3 class="text-sm font-semibold text-blue-800 mb-2 flex items-center gap-2">
                <mat-icon class="text-blue-500 text-sm">lightbulb</mat-icon>
                Suggested Testing Workflows
              </h3>
              <ul class="text-xs text-blue-700 space-y-1 ml-6 list-disc">
                <li><strong>RFQ Creation:</strong> Login as Sarah Tan → Create RFQ → Approve as David Lim</li>
                <li><strong>Quotation Submission:</strong> Login as John Chen → Submit quotation to active RFQ</li>
                <li><strong>Evaluation:</strong> Login as Sarah Tan → Open quotations (assign Emily as witness) → Evaluate → Award</li>
                <li><strong>Multi-supplier:</strong> Submit quotations from all 3 suppliers → Compare side-by-side</li>
              </ul>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <!-- Footer -->
    <div class="text-center mt-6 text-sm text-gray-600">
      <p>E-Procurement System v1.0 - Demo Environment</p>
      <p class="text-xs mt-1">© 2026 Town Council. All rights reserved.</p>
    </div>
  </div>
</div>
